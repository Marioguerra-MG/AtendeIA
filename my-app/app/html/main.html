<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AtendeIA - Dashboard</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <!-- CSS -->
    <link rel="stylesheet" href="/my-app/app/css/main.css">
    <link rel="stylesheet" href="/my-app/app/css/modalBot.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <!-- HEADER -->
    <header>
        <div class="menu-toggle" id="menuToggle">
            <i class="fa-solid fa-bars"></i>
        </div>

        <section class="logo-section">
            <div class="logo-container">
                <i id="logo-icon" class="fa-regular fa-comment-dots"></i>
                <h1 id="logo-text">AtendeIA</h1>
            </div>
        </section>



        <section class="buscarNotificacoes">
            <input id="buscar" type="search" placeholder="Buscar bots...">
            <section class="grupoNotificaoesPlanos">
                <i class="fa-regular fa-bell"></i>
                <p>Upgrade</p>
            </section>
        </section>
    </header>

    <!-- CONTAINER GERAL -->
    <div class="container">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="#"><i class="fa-solid fa-robot"></i> Meus Bots</a></li>
                    <li><a href="/my-app/app/html/grafico.html"><i class="fa-solid fa-chart-line"></i> Relat√≥rios</a>
                    </li>
                    <li>
                        <a href="#" id="link-publico"><i class="fa-solid fa-link"></i>Copiar Meu Link</a>
                    </li>

                    <li><a href="#" id="btn-logout">Sair</a></li>
                    <li><a href="#"><i class="fa-solid fa-gear"></i> Configura√ß√µes</a></li>
                </ul>
            </nav>
        </aside>

        <!-- MAIN -->
        <main class="main">
            <section class="header-main">
                <h2>Dashboard</h2>
                <div class="botoesAddLinkChat">
                    <button class="btn-add" id="btnAdd">Novo Bot</button>
                </div>

            </section>

            <!-- CARDS -->
            <section class="cards">
                <div class="card">
                    <h3>Total de Bots</h3>
                    <p>0</p>
                </div>
                <div class="card">
                    <h3>Mensagens Enviadas</h3>
                    <p>0</p>
                </div>
                <div class="card">
                    <h3>Plano</h3>
                    <p>Pro</p>
                </div>
            </section>

            <!-- TABELA DE BOTS -->
            <section class="tabela-bots">
                <h3>Meus Bots</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Nome-Bot</th>
                            <th>Status</th>
                            <th>Fun√ß√£o</th>
                            <th>Mensagens</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Linhas ser√£o inseridas via JS -->
                    </tbody>

                </table>
                <div class="bots-cards">
                    <!-- Cards ser√£o gerados via JS em telas pequenas -->
                </div>
            </section>

            <!-- TABELA DE LINKS -->
            <section class="tabela-links" style="display: none;">
                <h2>Meus Links</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>URL</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-links"></tbody>
                </table>
            </section>
        </main>
    </div>




    <!-- Modal Criar Bot Atualizado com Wizard -->
    <div id="modal-criar-bot" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Criar Novo Bot</h2>


            <form id="form-criar-bot">
                <!-- STEP 1: Escolher Template e Nome -->
                <div class="step active">
                    <!--
                    <label for="templateBot"><strong>Escolher templete ou digite o nome bot:</strong></label>
                    <label for="templateBot">Escolher Template</label>
                    <select id="templateBot">
                        <option value="">Selecione um template...</option>
                        <option value="restaurante">Restaurante</option>
                        <option value="ecommerce">E-commerce</option>
                    </select>
                    -->
                    <label for="nomeBot">Nome do Bot:</label>
                    <input type="text" id="nomeBot" placeholder="Ex: Horario de funcionamento">

                    <button type="button" class="btn-proximo">Pr√≥ximo</button>
                </div>

                <!-- STEP 2: Fun√ß√£o -->
                <div class="step">

                    <label for="funcaoBot">
                        <p id="txtInfoStep2">Explique de forma simples, fale como se fosse o cliente fazendo uma
                            pergunta ou tirando uma duvida:</p>
                    </label>
                    <label for="funcaoBot">Pergunata:</label>
                    <select id="funcaoBot">
                        <option value="" selected>Selecione uma op√ß√£o...</option>
                        <option value="outra" style="font-weight: bold; color: #fff; background-color: #ff4500;">
                            Criar uma fun√ß√£o
                        </option>
                        <option value="horario">Hor√°rio de funcionamento</option>
                        <option value="contato">Informa√ß√µes de contato</option>
                        <option value="endereco">Endere√ßo/Localiza√ß√£o</option>
                        <option value="pagamento">Formas de pagamento aceitas</option>
                        <option value="entrega">Informar prazo e formas de entrega</option>
                        <option value="promocao">Promo√ß√µes e ofertas</option>
                    </select>


                    <input type="text" id="funcaoBotCustom" placeholder="Digite a fun√ß√£o do bot"
                        style="display:none; margin-top:8px;">

                    <div style="margin-top:10px;">
                        <button type="button" class="btn-voltar">Voltar</button>
                        <button type="button" class="btn-proximo">Pr√≥ximo</button>
                    </div>
                </div>

                <!-- STEP 3: Descri√ß√£o -->
                <div class="step" id="step3">
                    <label for="descricaoBot">Resposta do Bot</label>
                    <textarea id="descricaoBot" rows="16"
                        placeholder="üí¨ Escreva como se falasse com o cliente: 'Ol√°! üëã Somos o Caf√© Express, nosso hor√°rio √© das 08:00 √†s 16:00.'"></textarea>

                    <!-- Bot√£o para adicionar link -->
                    <div style="margin-top:5px;">
                        <button type="button" id="btnAddLink">Adicionar Link</button>
                    </div>
                    
                    <div id="btnStep3" style="margin-top:10px;">
                        <button type="button" class="btn-voltar">Voltar</button>
                        <button type="submit" class="btn-add">Salvar Bot</button>
                    </div>
                </div>
            </form>
        </div>
    </div>






    <!-- Modal Adicionar Links -->
    <div id="modal-add-links" class="modal">
        <div class="modal-content">
            <span class="close close-links">&times;</span>
            <h2>Adicionar Link</h2>

            <form id="form-add-links">
                <label for="linkNome">Nome do Site</label>
                <input type="text" id="linkNome" placeholder="Ex: Instagram" required>

                <label for="linkURL">URL do Site</label>
                <input type="url" id="linkURL" placeholder="Ex: https://instagram.com" required>

                <button type="submit" class="btn-add">Salvar Link</button>
            </form>
        </div>
    </div>

    <!-- Modal Editar Bot -->
    <div id="modal-editar-bot" class="modal">
        <div class="modal-content">
            <span class="close close-edit">&times;</span>
            <h2>Editar Bot</h2>

            <form id="form-editar-bot">
                <input type="hidden" id="editBotId">

                <label for="editNomeBot">Nome do Bot</label>
                <input type="text" id="editNomeBot" required>

                <label for="editFuncaoBot">Pergunta:</label>
                <select id="editFuncaoBot" required>
                    <option value="" selected>Selecione uma op√ß√£o...</option>
                    <option value="outra" style="font-weight: bold; color: #fff; background-color: #ff4500;">
                        Criar uma fun√ß√£o
                    </option>
                    <option value="horario">Hor√°rio de funcionamento</option>
                    <option value="contato">Informa√ß√µes de contato </option>
                    <option value="endereco">Endere√ßo/Localiza√ß√£o </option>
                    <option value="pagamento">Formas de pagamento aceitas </option>
                    <option value="entrega">Informar prazo e formas de entrega</option>
                    <option value="promocao">Promo√ß√µes e ofertas</option>
                </select>

                <!-- Campo extra escondido -->
                <input type="text" id="editFuncaoBotCustom" placeholder="Digite a fun√ß√£o do bot"
                    style="display:none; margin-top:8px;">


                <label for="editDescricaoBot">Respostar do bot:</label>
                <textarea id="editDescricaoBot" rows="4"></textarea>

                <label for="editStatusBot">Status</label>
                <select id="editStatusBot" required>
                    <option value="Ativo">Ativo</option>
                    <option value="Inativo">Inativo</option>
                </select>

                <button type="submit" class="btn-add">Salvar Altera√ß√µes</button>
            </form>
        </div>
    </div>


    <!-- JS -->
    <script type="module" src="/my-bd/firebase-config.js"></script>
    <script type="module" src="/my-app/app/js/main.js"></script>
    <script src="/my-app/app/js/modalBot.js"></script>
    <script src="/my-app/app/js/menuHamburguer.js"></script>
    <script src="/my-app/app/js/botoes.js"></script>

</body>

</html>